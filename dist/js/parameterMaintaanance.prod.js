"use strict";$(document).ready(function(){function t(t,e){var a;t.files&&t.files[0]&&((a=new FileReader).onload=function(t){$(e).attr("src",t.target.result)},a.readAsDataURL(t.files[0]))}$.ajax({type:"POST",url:"./backend/parameter/parameter.php",data:{postType:"view"},beforeLoad:function(){$("#report-table").append('<div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div>')},success:function(t){var a;t&&("0 results"!=t?(t=t.includes("Success")?JSON.parse(t.replace("Success","")):JSON.parse(t),$("#report-table").empty(),$("#report-table").append('<table id="userTable" class="table table-hover table-bordered text-center w-auto" cellspacing="0" width="100%">  <thead class="grey lighten-2  ">  <th scope="col">#</th>  <th scope="col" class="text-center th-lg">Action</th>  <th scope="col" class="th-lg">Type</th>  <th scope="col" class="th-sm">Description</th>  <th scope="col" class="th-sm">Description 2</th>  <th scope="col" class="th-sm">Description 3</th>  <th scope="col" class="th-sm">Quantity</th>  <th scope="col" class="th-sm">Amount</th>  <th scope="col" class="th-sm">Start Date</th>  <th scope="col" class="th-sm">End Date</th>  <th scope="col" class="th-sm">Start Time</th>  <th scope="col" class="th-sm">End Time</th>  </tr>  </thead>  <tbody id="content">  </tbody>  <tfoot class="grey lighten-2">  <tr>  <th scope="col">#</th>  <th scope="col" class="text-center th-lg">Action</th>  <th scope="col" class="th-lg">Type</th>  <th scope="col" class="th-sm">Description</th>  <th scope="col" class="th-sm">Description 2</th>  <th scope="col" class="th-sm">Description 3</th>  <th scope="col" class="th-sm">Quantity</th>  <th scope="col" class="th-sm">Amount</th>  <th scope="col" class="th-sm">Start Date</th>  <th scope="col" class="th-sm">End Date</th>  <th scope="col" class="th-sm">Start Time</th>  <th scope="col" class="th-sm">End Time</th>  </tr>  </tfoot>  </table>'),$.each(t,function(t,e){t++;var a=new Date(e.start_date+" "+e.start_time),s=new Date(e.end_date+" "+e.end_time);$("#content").append('<tr> <th scope="row" id="parameterID-'+e.parameter_id+'">'+t+'</th> <td> <button id="edit-'+e.parameter_id+'" class="btn btn-warning editBtn py-md-3 px-md-4 p-sm-3" data-toggle="modal" data-target="#editModal"> <span class="textBreak">Edit</span> <span class="iconBreak"><i class="fas fa-edit"></i></i></span> </button> <button id="delete-'+e.parameter_id+'" class="btn btn-danger deleteBtn py-md-3 px-md-4 p-sm-3" data-toggle="modal" data-target="#deleteModal"> <span class="textBreak">Delete</span> <span class="iconBreak"><i class="fas fa-trash-alt"></i></span> </button> <button id="clone-'+e.parameter_id+'" class="btn btn-secondary cloneBtn py-md-3 px-md-4 p-sm-3" data-toggle="modal" data-target="#cloneModal"> <span class="textBreak">Clone</span> <span class="iconBreak"><i class="fas fa-copy"></i></span> </button> </td> <td id=\'type-'+e.parameter_id+"'>"+e.para_code+' </td> <td id="description-'+e.parameter_id+'"> '+e.para_description+' </td> <td id="description2-'+e.parameter_id+'"> '+e.para_description2+' </td> <td id="description3-'+e.parameter_id+'"> '+e.para_description3+' </td> <td id="quantity-'+e.parameter_id+'"> '+("0"==e.quantity?"":e.quantity)+' </td> <td id="amount-'+e.parameter_id+'"> '+("0.00"==e.amount?"":e.amount)+' </td> <td id="startdate-'+e.parameter_id+'"> '+("0000-00-00"==e.start_date?"":e.start_date)+' </td> <td id="enddate-'+e.parameter_id+'"> '+("0000-00-00"==e.end_date?"":e.end_date)+" </td> <td> "+("00:00:00"==e.start_time?"":a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}))+'<span id="starttime-'+e.parameter_id+'" hidden="true">'+e.start_time+"</span></td> <td> "+("00:00:00"==e.end_time?"":s.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}))+'<span id="endtime-'+e.parameter_id+'" hidden="true">'+e.end_time+"</span></td> </tr>")}),a=$("#userTable").DataTable({paging:!0,scrollX:!0,scrollY:"1000px",scrollCollapse:!0,lengthMenu:[[-1,50,25,10],["All",50,25,10]]}),$(".dataTables_length").addClass("bs-select"),$("a.toggle-vis").on("click",function(t){t.preventDefault();var e=a.column($(this).attr("data-column"));e.visible(!e.visible()),1==!e.visible()?$(this).addClass("cyan lighten-4"):$(this).removeClass("cyan lighten-4")}),$(".editBtn").click(function(){console.log($("#editFilename").val());var t=$(this).attr("id").split("-");$("#editParameterIDHeader").empty().text(t[1]),$("#editParameterID").val(t[1]),$("#editType").val($("#type-"+t[1]).text().trim()),$("#editDescription").val($("#description-"+t[1]).text().trim()),$("#editDescription2").val($("#description2-"+t[1]).text().trim()),$("#editDescription3").val($("#description3-"+t[1]).text().trim()),$("#editStartDate").val($("#startdate-"+t[1]).text().trim()),$("#editEndDate").val($("#enddate-"+t[1]).text().trim()),$("#editStartTime").val($("#starttime-"+t[1]).text().trim()),$("#editEndTime").val($("#endtime-"+t[1]).text().trim()),$("#editQuantity").val($("#quantity-"+t[1]).text().trim()),$("#editAmount").val($("#amount-"+t[1]).text().trim())}),$(".cloneBtn").click(function(){var t=$(this).attr("id").split("-");$("#cloneType").val($("#type-"+t[1]).text().trim()),$("#cloneParameterIDHeader").text(t[1])}),$(".deleteBtn").click(function(){var t=$(this).attr("id").split("-");$("#deleteParameter").val(t[1]),$("#deleteParameterIDHeader").empty().text(t[1]),$("#deleteParameterID").val(t[1]),$("#deleteType").val($("#type-"+t[1]).text().trim()),$("#deleteDescription").val($("#description-"+t[1]).text().trim()),$("#deleteDescription2").val($("#description2-"+t[1]).text().trim()),$("#deleteDescription3").val($("#description3-"+t[1]).text().trim()),$("#deleteStartDate").val($("#startdate-"+t[1]).text().trim()),$("#deleteEndDate").val($("#enddate-"+t[1]).text().trim()),$("#deleteStartTime").val($("#starttime-"+t[1]).text().trim()),$("#deleteEndTime").val($("#endtime-"+t[1]).text().trim()),$("#deleteQuantity").val($("#quantity-"+t[1]).text().trim()),$("#deleteAmount").val($("#amount-"+t[1]).text().trim())})):($("#report-table").empty(),$("#report-table").append('<table id="userTable" class="table table-hover table-bordered text-center w-auto" cellspacing="0" width="100%">  <thead class="grey lighten-2  ">  <th scope="col">#</th>  <th scope="col" class="th-lg">Type</th>  <th scope="col" class="th-lg">Description</th>  <th scope="col" class="th-sm">Quantity</th>  <th scope="col" class="th-sm">Amount</th>  <th scope="col" class="th-sm">Start Date</th>  <th scope="col" class="th-sm">End Date</th>  <th scope="col" class="th-sm">Start Time</th>  <th scope="col" class="th-sm">End Time</th>  <th scope="col" class="text-center th-lg">Action</th>  </tr>  </thead>  <tbody id="content">  </tbody>  <tfoot class="grey lighten-2">  <tr>  <th scope="col">#</th>  <th scope="col" class="th-lg">Type</th>  <th scope="col" class="th-lg">Description</th>  <th scope="col" class="th-sm">Quantity</th>  <th scope="col" class="th-sm">Amount</th>  <th scope="col" class="th-sm">Start Date</th>  <th scope="col" class="th-sm">End Date</th>  <th scope="col" class="th-sm">Start Time</th>  <th scope="col" class="th-sm">End Time</th>  <th scope="col" class="text-center th-lg">Action</th>  </tr>  </tfoot>  </table>'),$("#userTable").DataTable({}),$(".dataTables_length").addClass("bs-select")))},error:function(){console.log("Failed")}}),$(window).width()<=576?$("#report-table").removeClass("text-nowrap"):$("#report-table").addClass("text-nowrap"),$("#addQuantity, #addAmount").val(""),$(".nevermind").click(function(){$("#editFilename, #addFilename, #cloneFilename").val("").next("label").html("Select a file"),$("#editFilePreview, #addFilePreview, #cloneFilePreview").attr("src",""),$(".form-control").val("")}),$("#addStartDateReset").click(function(){$("#addStartDate").val("")}),$("#addEndDateReset").click(function(){$("#addEndDate").val("")}),$("#addStartTimeReset").click(function(){$("#addStartTime").val("")}),$("#addEndTimeReset").click(function(){$("#addEndTime").val("")}),$("#editStartDateReset").click(function(){$("#editStartDate").val("")}),$("#editEndDateReset").click(function(){$("#editEndDate").val("")}),$("#editStartTimeReset").click(function(){$("#editStartTime").val("")}),$("#editEndTimeReset").click(function(){$("#editEndTime").val("")}),$("#cloneStartDateReset").click(function(){$("#cloneStartDate").val("")}),$("#cloneEndDateReset").click(function(){$("#cloneEndDate").val("")}),$("#cloneStartTimeReset").click(function(){$("#cloneStartTime").val("")}),$("#cloneEndTimeReset").click(function(){$("#cloneEndTime").val("")}),$("#addFilename").change(function(){t(this,"#addFilePreview")}),$("#editFilename").change(function(){t(this,"#editFilePreview")}),$("#cloneFilename").change(function(){t(this,"#cloneFilePreview")})});